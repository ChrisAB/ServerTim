<mat-toolbar class="toolbar">
  <span>{{ title }}</span>
  <span class="spacer"></span>
  <div *ngIf="loading; else notLoading" class="auth-button">
    <mat-spinner
      color="secondary"
      mode="indeterminate"
      class="spinner"
      strokeWidth="5"
      [diameter]="50"
    >
    </mat-spinner>
  </div>

  <ng-template #notLoading class="auth-button">
    <div *ngIf="auth.user$ | async as user; else login">
      <button mat-stroked-button (click)="auth.signOut()">
        Sign Out
      </button>
    </div>

    <ng-template #login>
      <button mat-stroked-button (click)="googleSignIn()">
        Login with Google
      </button>
    </ng-template>
  </ng-template>
</mat-toolbar>
